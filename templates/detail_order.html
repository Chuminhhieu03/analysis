{% extends 'base.html' %}
{% load static %}
{% load humanize %}
{% block title %}Xem chi tiết hóa đơn{% endblock title %}
{% block content %}
<div class="content-wrapper">
  <div class="row">
    <div class="col-lg-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Trang xem chi tiết hóa đơn</h4>
          <form class="forms-sample" method="POST" action="/order/add/">
            {% csrf_token %}
            <div class="form-group">
              <label for="exampleInputUsername1">Khách hàng</label>
              <input name="status" type="text" class="form-control" value="{{order.customer_name}}">
            </div>
            <div class="form-group">
              <lable>Danh sách các sản phẩm</lable>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th>Tên sản phẩm</th>
                  <th>Giá</th>
                  <th>Số lượng</th>
                  <th>Thành tiền</th>
                </tr>
              </thead>
              <tbody>
                {% for item in orderDetails %}
                <tr>
                  <td>
                    <input name="product" type="text" class="form-control" value="{{item.product_name}}" readonly>
                  </td>
                  <td id="productPrice">
                    <input name="product" type="text" class="form-control" value="{{item.product_price |floatformat:"0"| intcomma }}" readonly>
                  </td>
                  <td>
                    <input name="quantity" type="text" class="form-control" value="{{item.quantity}}" readonly>
                  </td>
                  <td>
                    <input name="totalAmount" type="text" class="form-control" value="{{item.total|floatformat:" 0"|intcomma }}" readonly>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
            <div class="form-group">
              <label>Tổng tiền</label>
              <input name="Total" type="text" class="form-control" value="{{order.total|floatformat:" 0"|intcomma}}"
                readonly>
            </div>
            <div class="form-group">
              <label>Trạng thái đơn hàng</label>
              {% if order.status == "0" %}
              <input name="status" type="text" class="form-control" value="Vừa mới tạo đơn hàng" readonly>
              {% elif order.status == "1" %}
              <input name="status" type="text" class="form-control" value="Đang giao hàng" readonly>
              {% elif order.status == "2" %}
              <input name="status" type="text" class="form-control" value="Đã giao hàng thành công" readonly>
              {% else %}
              <input name="status" type="text" class="form-control" value="Đã hủy đơn hàng" readonly>
              {% endif %}
            </div>
            <div class="form-group">
              <label>Ghi chú</label>
              <input name="note" type="text" class="form-control" value="{{order.discrption}}" readonly>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}