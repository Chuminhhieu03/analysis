{% extends 'base.html' %} 
{% load static %} 
{% block title%}Biểu đồ{%endblock title %} 
{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.css' %}">
<script src="{% static 'vendors/bootstrap-datepicker/bootstrap-datepicker.min.js' %}"></script>
<div class="content-wrapper">
        <div class="row">
            <div class="btn-wrapper">
              <button id="income_import_btn" class="btn btn-primary text-white me-0"><i class="icon-download"></i> Import</button>
              <form action="/income/import_excel" method="POST" id="income_import_form" enctype="multipart/form-data">
                {% csrf_token %}
                <input name="file" type="file" id="fileInput" accept=".xls,.xlsx" style="display: none;">
              </form>
            </div>
            <!-- create a date picker  -->
            <div class="col-lg-6 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title">Chọn tháng để xem</h4>
                        <div class="row">
                          <form action="/income/get_chart_data" method="post" id="income_chart_form">
                            {% csrf_token %}
                            <div id="datepicker-income" class="col-lg-8 nput-group date datepicker">
                                <span class="input-group-addon input-group-prepend border-right">
                                  <span class="icon-calendar input-group-text calendar-icon"></span>
                                </span>
                                <input name="date" type="text" class="form-control" readonly>
                            </div>
                            <div class="col-lg-3">
                                <button class="btn btn-primary mt-3" type="button" id="income_chart_button">Xem</button>
                            </div>
                          </form>
                        </div>
                    </div>
                </div>
        </div>
        <div class="row">
            <div class="col-lg-6 grid-margin grid-margin-lg-0 stretch-card">
                <div class="card">
                    <div class="card-body text-center"> <!-- Added 'text-center' class -->
                        <h4 class="card-title">Biểu đồ</h4>
                        <div class="mx-auto"> <!-- Added 'mx-auto' class -->
                            <canvas id="incomeChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title">Thống kê</h4>
                    <div class="table-responsive">
                      <table class="table table-striped">
                        <thead>
                          <tr>
                            <th>
                              
                            </th>
                            <th>
                              Tên
                            </th>
                            <th>
                              %
                            </th>
                            <th>
                              Tiền
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="py-1">
                              #icon
                            </td>
                            <td>
                              Lương
                            </td>
                            <td>
                              <div class="progress">
                                <div id="salary_progress"class="progress-bar" role="progressbar" style="background-color: #FF6384; width: 0%"></div>
                              </div>
                            </td>
                            <td>
                              <span id="salary_amount">$ 0</span>
                            </td>
                          </tr>
                          <tr>
                            <td class="py-1">
                              #icon
                            </td>
                            <td>
                              Kinh Doanh
                            </td>
                            <td>
                              <div class="progress">
                                <div id="business_progress" class="progress-bar" role="progressbar" style="background-color: #36A2EB; width: 0%"></div>
                              </div>
                            </td>
                            <td>
                              <span id="business_amount">$ 0</span>
                            </td>
                          </tr>
                          <tr>
                            <td class="py-1">
                              #icon
                            </td>
                            <td>
                              Phụ thu nhập
                            </td>
                            <td>
                              <div class="progress">
                                <div id="submoney_progress" class="progress-bar" role="progressbar" style="background-color: #FFCE56; width: 0%"></div>
                              </div>
                            </td>
                            <td>
                              <span id="submoney_amount">$ 0</span>
                            </td>
                          </tr>
                          <tr>
                            <td class="py-1">
                              #icon
                            </td>
                            <td>
                              Khác
                            </td>
                            <td>
                              <div class="progress">
                                <div id="other_progress" class="progress-bar" role="progressbar" style="background-color: #4BC0C0; width: 0%"></div>
                              </div>
                            </td>
                            <td>
                              <span id="other_amount">$ 0</span>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
        </div>
</div>  
<script src="{% static 'js/hieujs/income_chart.js' %}"></script>
<script src="{% static 'js/hieujs/income_import.js' %}"></script>
{% endblock content %}